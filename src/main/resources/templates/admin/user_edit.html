<!DOCTYPE html>
<html lang="ja" xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8">
  <title>ユーザー編集（管理者）</title>
  <link rel="stylesheet" th:href="@{/css/style.css}">
</head>
<body>
  <div class="container">
    <h1>ユーザー編集</h1>

    <p th:if="${error}" class="error-message" th:text="${error}"></p>
    <p th:if="${success}" class="success-message" th:text="${success}"></p>

    <form th:action="@{/admin/users/{id}/edit(id=${user.id})}"
          method="post"
          class="form"
          onsubmit="return confirm('ユーザー情報（社員番号/ユーザー名）を更新します。よろしいですか？');">

      <input type="hidden" name="sort" th:value="${sort}">
      <input type="hidden" name="q" th:value="${q}">
      <input type="hidden" name="page" th:value="${pageNo}">
      <input type="hidden" name="size" th:value="${size}">

      <label>社員番号（必須・一意）</label>
      <input type="text" name="employeeNo" th:value="${user.employeeNo}" required>

      <label style="margin-top:12px;">ユーザー名（ログインID）</label>
      <input type="text" name="username" th:value="${user.username}" required>

      <div class="button-group" style="margin-top:18px;">
        <button type="submit" class="button primary">更新</button>
        <a class="button secondary"
           th:href="@{/admin/users(page=${pageNo}, size=${size}, sort=${sort}, q=${q})}">
          一覧へ戻る
        </a>
      </div>

      <div style="margin-top:12px; font-size:0.95em; color:#555;">
        ※更新操作は監査ログに記録されます。
      </div>
    </form>
  </div>
</body>
</html>